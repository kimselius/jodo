kernel:
  port: 8080
  external_url: "${KERNEL_URL}"
  health_check_interval: 10
  max_restart_attempts: 3
  log_level: "info"
  audit_log_path: "/var/log/jodo-audit.jsonl"

jodo:
  host: "${JODO_IP}"
  ssh_user: "${SSH_USER}"
  ssh_key_path: "/root/.ssh/jodo_vps"
  port: 9000
  brain_path: "/opt/jodo/brain"
  health_endpoint: "/health"

database:
  host: "postgres"
  port: 5432
  name: "jodo_kernel"
  user: "jodo"
  password: "${JODO_DB_PASSWORD}"

providers:
  ollama:
    base_url: "${OLLAMA_BASE_URL}"
    models:
      glm-4:
        model: "glm-4.7-flash:latest"
        input_cost_per_1m_tokens: 0
        output_cost_per_1m_tokens: 0
        capabilities: [code, chat, quick, tools]
        quality: 5
      qwen3-embed-8b:
        model: "qwen3-embedding:8b"
        input_cost_per_1m_tokens: 0
        output_cost_per_1m_tokens: 0
        capabilities: [embed]
        quality: 7
    monthly_budget: 0
    emergency_reserve: 0

  claude:
    api_key: "${CLAUDE_API_KEY}"
    models:
      claude-sonnet:
        model: "claude-sonnet-4-20250514"
        input_cost_per_1m_tokens: 3.00
        output_cost_per_1m_tokens: 15.00
        capabilities: [code, chat, reasoning, repair, tools]
        quality: 9
    monthly_budget: ${CLAUDE_MONTHLY_BUDGET}
    emergency_reserve: ${CLAUDE_EMERGENCY_RESERVE}

  openai:
    api_key: "${OPENAI_API_KEY}"
    models:
      gpt-4o-mini:
        model: "gpt5-mini"
        input_cost_per_1m_tokens: 0.25
        output_cost_per_1m_tokens: 2.00
        capabilities: [code, chat, tools]
        quality: 6
    monthly_budget: ${OPENAI_MONTHLY_BUDGET}
    emergency_reserve: ${OPENAI_EMERGENCY_RESERVE}

routing:
  strategy: "best_affordable"
  intent_preferences:
    code:   [ollama, claude, openai]
    chat:   [ollama, openai, claude]
    embed:  [ollama, openai]
    quick:  [ollama, openai]
    repair: [claude, ollama, openai]
